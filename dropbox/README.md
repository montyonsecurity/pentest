# pentest dropbox

This is not so much a tool as it is a guide but first, let's make a a few assumptions:
- you are auditing a network
- physical/network implants are in scope and feasible
- you have access to a ethernet port on the target site that does have access to the internet
- you have a raspberry pi that you want to hookup to said port and have it connect back to you so you can audit the network remotely

This is the scenario that this document addresses and walks you through how to tackle with this repo. The basic idea is that we want to "drop" our raspberry pi on the network and have it connect back to us, a pentest "dropbox". There are so many ways you can go about making a dropbox but this will cover how to do it with respect to the rest of the tool (which was designed for Google Cloud Platform, F1 Micro instance, and a Raspberry Pi, 3rd Generation)

The commands below are nothing special from me, they were pulled straight out of the manual for openvpn.

## things you'll need

- a gcp instance
	- with openvpn installed (or just run ../gcp-install.sh)
	- and a newly created ssh key pair
- a raspberry pi
	- with SSH enabled, and valid credentials
	- with pentest installed (../pi-install.sh)

## server side (gcp instance)

### create the vpn key

openvpn --genkey secret `keyname`

### transfer the vpn key

Both the raspberry pi and the f1 instance need the same key, copy it over

### start the vpn

openvpn --remote `raspberry pi's ip` --dev tun1 --ifconfig 10.4.0.2 10.4.0.1 --verb 5 --secret `keyname`

## client side (raspberry pi)

### connect to the vpn

openvpn --remote `gcp instances public IP` --dev tun1 --ifconfig 10.4.0.1 10.4.0.2 --verb 5 --secret `keyname`

After the connection establishes, the server's IP will be 10.4.0.2 and the client will be 10.4.0.1.

# getting credentials setup

For this, I'd suggest follwowing [best practices](https://www.howtoforge.com/tutorial/openssh-security-best-practices/)
